@model Homework_06.Models.product

@{
    ViewBag.Title = "Details";
}

<h2>Details</h2>

<div>
    <h4>product</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.product_name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.product_name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.model_year)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.model_year)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.list_price)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.list_price)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.brand.brand_name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.brand.brand_name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.category.category_name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.category.category_name)
        </dd>

    </dl>
</div>
<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.product_id }) |
    @Html.ActionLink("Back to List", "Index")
</p>



<table class="table">
    <tr>
        <th>Store</th>
        <th>Quantity</th>
    </tr>
    <tr>

        <td>Santa Cruz Bikes</td>
        <td>
            @{var total = 0; string message = "";
                foreach (var item in Model.stocks)
                {


                    if (item.product_id == Model.product_id && item.store_id == 1)
                    {

                        total = (int)item.quantity;
                        if (total == 0)
                        {
                            message = "Out of Stock";
                        }


                        else
                        {
                            message = total.ToString();
                        }
                    }
                }
            }
            @message
        </td>
    </tr>
    <tr>
        <td>Baldwin Bikes</td>
        <td>
            @{
                foreach (var item in Model.stocks)
                {



                    if (item.product_id == Model.product_id && item.store_id == 2)
                    {



                        total = (int)item.quantity;
                        if (total == 0)
                        {

                            message = "Out of Stock";
                        }
                        else
                        {
                            message = total.ToString();
                        }
                    }
                }
            }
            @message
        </td>
    </tr>
    <tr>
        <td>Santa Cruz Bike</td>
        <td>
            @{
                foreach (var item in Model.stocks)
                {





                    if (item.product_id == Model.product_id && item.store_id == 3)
                    {
                        total = (int)item.quantity;
                        if (total == 0)
                        {
                            message = "Out of Stock";
                        }


                        else
                        {
                            message = total.ToString();
                        }
                    }
                }
            }
            @message
        </td>
    </tr>
</table>